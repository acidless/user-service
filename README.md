# User Service API

–°–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–º.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å JWT –∏ cookies
- üë• –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–ª–≤–∞—Ç–µ–ª–µ–π
- üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í—ã–¥–∞—á–∞ —Ä–æ–ª–∏

![Express](https://img.shields.io/badge/Express.js-000000?logo=express&logoColor=white&style=for-the-badge)
![TypeScript](https://shields.io/badge/TypeScript-3178C6?logo=TypeScript&logoColor=FFF&style=for-the-badge)
![Prisma](https://img.shields.io/badge/Prisma-3982CE?style=for-the-badge&logo=Prisma&logoColor=white)
![Prisma](https://img.shields.io/badge/SQLite-4169E1?logo=sqlite&logoColor=fff&style=for-the-badge)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/acidless/user-service.git
cd user-service
```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
npm install
```
3. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–≤ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞<br>
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```.env
PORT=3000
ADMIN_EMAIL=admin@example.com
SECRET=secret
```
4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm start
```

## üì¶ –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | number | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| fullname | string | –§–ò–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| email | string | Email, —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| password | string | –ü–∞—Ä–æ–ª—å (–≤ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ) |
| role | string | –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `admin` –∏–ª–∏ `user` |
| status | string | –°—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –∞–∫—Ç–∏–≤–µ–Ω/–Ω–µ –∞–∫—Ç–∏–≤–µ–Ω |

## üîó API Endpoints

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**POST** `/api/users`  
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "fullname": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "email": "ivan@example.com",
  "password": "securePassword"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "user": {
        "id": 1,
        "email": "ivan@example.com",
        "fullname": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "role": "USER",
        "status": "ACTIVE"
    }
}
```
–î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—á—Ç—É –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è ADMIN_EMAIL 

### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**PATCH** `/api/users`  
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "email": "ivan@example.com",
  "password": "securePassword"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "user": {
        "id": 1,
        "email": "ivan@example.com",
        "fullname": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "role": "USER",
        "status": "ACTIVE"
    }
}
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID

**GET** `/api/users/:id`  
**–î–æ—Å—Ç—É–ø:** –∞–¥–º–∏–Ω –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —Å–µ–±—è

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "user": {
        "id": 1,
        "email": "ivan@example.com",
        "fullname": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "role": "USER",
        "status": "ACTIVE"
    }
}
```

### 4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**GET** `/api/users`  
**–î–æ—Å—Ç—É–ø:** —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω  

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|----------|
| page      | number | –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π –≤—ã–¥–∞—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0) |

**–û—Ç–≤–µ—Ç:**

```json
{
    "success": true,
    "users": [
      {
        "id": "user-id",
        "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "email": "ivan@example.com",
        "role": "USER",
        "status": "ACTIVE"
      },
      "..."
    ]
}
```

### 5. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**DELETE** `/api/users/:id/`<br>
**–î–æ—Å—Ç—É–ø:** –∞–¥–º–∏–Ω –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —Å–µ–±—è

### 6. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**PATCH** `/api/users/:id/roles`<br>
**–î–æ—Å—Ç—É–ø:** —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```jsonc
{
  "role": "ADMIN" // –∏–ª–∏ "USER"
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "success": true,
  "user": {
    "id": "123",
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "role": "ADMIN",
    "status": "ACTIVE"
  }
}
```

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ¬© 2025
